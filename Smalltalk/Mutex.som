Mutex = (
    "A Reentrant Mutex"
    critical: aBlock = (
        | value |
        self lock.
        value := aBlock value.
        self unlock.
        ^ value
    )
    
    lock     = primitive
    unlock   = primitive
    isLocked = primitive
    
    newCondition = primitive
    
    ----
    
    new = primitive
)
